<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>welcome to WeiBlog</title>
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/login.css">
  <style>
  </style>
</head>
<body>
<script src="js/jquery.js"></script>
<script src="js/login/login_page.js"></script>
<div class="main">
  <div class="login">
    <img src="img/login/1.jpg">
    <div class="login_input">
      <p>WeiBlog.</p>
      <input type="text" placeholder="请输入用户名">
      <br>
      <input type="password" placeholder="请输入用户密码">
      <h6>用户名或密码错误</h6>
      <input type="button" value="登录">
    </div>
    <div class="appstore">
      <a href="http://apple.com/zh-cn" target="_blank"><img src="img/login/applestore.jpg"></a>
      <a href="http://www.baidu.com" target="_blank"><img src="img/login/googleplay.jpg"></a>
    </div>
    <div class="toBlue">
      <b>What is WeiBlog?</b>
    </div>
  </div>
  <div class="blue">
    <div>我们不一样</div>
  </div>
  <div class="green"></div>
  <div class="yellow"></div>
  <div class="sign_up">
    <img src="img/login/2.jpg">
    <div class="sign_up_input">
      <h1>WeiBlog.</h1>
      <p>Come for what you love.</p>
      <p>Stay for what you discover.</p>
      <input type="text" placeholder="请输入邮箱" name="email">
      <span></span>
      <br>
      <input type="text" placeholder="请输入用户名" name="uname">
      <span></span>
      <br>
      <input type="password" placeholder="请输入用户密码" name="upwd">
      <span></span>
      <br>
      <input type="button" value="注册">
    </div>
    <div class="appstore">
      <a href="http://apple.com/zh-cn" target="_blank"><img src="img/login/applestore.jpg"></a>
      <a href="http://www.baidu.com" target="_blank"><img src="img/login/googleplay.jpg"></a>
    </div>
  </div>
  <ul class="mainNav">
    <li class="hover"></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
  </ul>
  <div class="right_button">
    <input type="button" name="login" value="登录">
    <input type="button" name="sign_up" value="注册">
  </div>
</div>
<script>
  //注册分页功能
  $(function(){
    let $sEmail=$(".sign_up input[name=email]");
    let $sEmailTip=$sEmail.next("span");
    let $sUname=$(".sign_up input[name=uname]");
    let $sUnameTip=$sUname.next("span");
    let $sUpwd=$(".sign_up input[name=upwd]");
    let $sUpwdTip=$sUpwd.next("span");
    let reg=/^[a-zA-Z0-9_]{8,12}$/;
    $sEmail.on("focus",()=>{$sEmailTip.html("请输入正确的邮箱格式");});
    $sEmail.on("blur",()=>{
      let reg=/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/;
      if(reg.test($sEmail.val())){
        $.get("data/user/sign_up.php",$sEmail.serialize())
        .then(data=>{
          $sEmailTip.html(data.msg);
        });
      }else{
        $sEmailTip.html("邮箱格式不正确！");
      }
    });
    $sUname.on("focus",()=>{$sUnameTip.html("用户名为8-12位英文或数字");});
    $sUname.on("blur",()=>{
      if(reg.test($sUname.val())){
        console.log(1);
      }else{
        $sUpwdTip.html("用户名格式不正确！");
      }
    });
    $sUpwd.on("focus",()=>{$sUpwdTip.html("密码为8-12位英文或数字");});
    $sUpwd.on("blur",()=>{
      if(reg.test($sUpwd.val())){
        console.log(1);
      }else{
        $sUpwdTip.html("密码格式不正确！");
      }
    });
  });
</script>
</body>
</html>